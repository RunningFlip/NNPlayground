import { Vector } from "../math/vector";
import { Layer } from "./layer";

// --------------------------------------------------------------------------------

export class Network {

    // --------------------------------------------------------------------------------
    // Fields
    // --------------------------------------------------------------------------------
    
    private readonly layers: Layer[];

    // --------------------------------------------------------------------------------
    // Properties
    // --------------------------------------------------------------------------------
    
    public get inputCount(): number { return this.layers[0].count; }

    // --------------------------------------------------------------------------------
    // Constructor
    // --------------------------------------------------------------------------------
    
    public constructor(layers: Layer[]) {
        this.layers = layers;
    }

    // --------------------------------------------------------------------------------
    // Methods
    // --------------------------------------------------------------------------------
    
    public calculate(input: Vector): Vector {

        let result = input;

        for (let i = 0; i < this.layers.length; i++) {
            result = this.layers[i].calculate(result);
        }

        return result;
    }
}